<div id="main" class="main dashboard_page">
    <div class="profile d-flex mb-4">
        <div class="profile_top_heading d-flex gap_24">
            <h1 class="font-27 font-700 secondary mb-0">Chapters</h1>
            <button class="top_profile_sec_btn font-14 font-500 lh-1 pointer" id="topic_create_new"
                data-bs-toggle="modal" data-bs-target="#subject-subadd-modal" (click)="clearChapterForm()">Add
                Chapter</button>
            <button class="top_profile_sec_btn font-14 font-500 lh-1 pointer" id="add-exam" data-bs-toggle="modal"
                data-bs-target="#exam_add_modal" style="display: none;" (click)="clearExam()">Add Exam</button>
            <button class="top_profile_sec_btn font-14 font-500 lh-1 pointer" id="test_add_ques" data-bs-toggle="modal"
                data-bs-target="#subject-testques-modal" style="display: none;" (click)="clearQuestionForm()">Add
                Question</button>
        </div>

        <app-profile-bar></app-profile-bar>
    </div>

    <!-- DASHBOARD START -->

    <div class="scroll_sec mt-0">
        <div class="d-flex justify-content-between align-items-center">
            <div class="subjects_tabs">
                <h2 id="subject_topic" class="tabs_heading warning tabs_heading_border_active"
                    onclick="subject_topic()">Subject Chapter
                </h2>
                <h2 id="subject_test" class="tabs_heading text_gray" onclick="subject_test()">Subject question</h2>
                <h2 id="subject_exam" class="tabs_heading text_gray" onclick="subject_exam()">Subject exam
                </h2>
            </div>
            <a routerLink="/admin/subject"
                class="back_button font-14 font-500  text-white line-height-0 d-flex align-items-center gap_5"><i
                    class="fi fi-rr-arrow-left line-height-0"></i> Back </a>
        </div>

        <!-- chapters start-->
        <div class="subject-topic">

            <div class="row mt-3">
                <div class="col-md-3 bootstrap_cards" *ngFor="let obj of chapterResponse;let i=index">
                    <div class="admin-subject_card">
                        <div class="admin-subject_card_top">
                            <div class="admin-subject_name_card">
                                <div class="admin-sub-left">
                                    <div class="admin-subject-image">
                                        <img [src]="obj.chapterImage">
                                    </div>
                                    <div class="subject-details">
                                        <h3 class="subject_heading txt-dark mb-0">{{obj.chapterName}}</h3>
                                        <p class="chapter-cout mb-0">{{obj.chapterName}}</p>
                                    </div>
                                </div>
                            </div>
                            <app-drop-down-delete-add-update [path]="'/admin/subjectContent'"
                                [editModalId]="'#chapter-edit-modal'" [deleteModalId]="'#chapter-delete'"
                                [params]="{chapterId:obj.chapterId,subjectId:subjectId}" [id]="obj.chapterId"
                                [index]="i" (onClick)="onClick($event)"></app-drop-down-delete-add-update>
                        </div><!-- subject_card_top -->

                    </div> <!-- subject_card -->
                </div>

            </div>

        </div>
        <!-- subject topics  end-->

        <!-- subject test start-->
        <div class="subject-test" style="display: none;">

            <div class="row mt-3">
                <div class="col-md-12" *ngFor="let obj of questions; let a =index">
                    <div class="top-test-question">
                        <h2>Question {{a+1}}</h2>
                        <div class="test-que-edit-del" *ngIf="!obj.isSelected">
                            <span class="d-flex align-items-center gap_5 font-17 font-500 secondary"
                                data-bs-toggle="modal" data-bs-target="#subject-testques-modal"
                                (click)="setQuestion(obj.questionId,a)"><i class="fi fi-rr-file-edit line-height-0"></i>
                                Edit</span>
                            <span class="d-flex align-items-center gap_5 font-17 font-500 delete-icon-color"
                                data-bs-toggle="modal" data-bs-target="#delete-modal01"
                                (click)="setQuestion(obj.questionId,a)"><i class="fi fi-rr-trash line-height-0"
                                    data-bs-dismiss="modal" aria-label="Close"></i>
                                Delete</span>
                        </div>
                    </div>

                    <div class="subject-test-question">
                        <ul class="ps-0 mb-0 list-unstyled">
                            <li [innerHTML]="obj.questionContent">{{obj.questionContent}}
                            </li>
                        </ul>
                    </div>
                    <div class="subject-test-ques-ans " *ngIf="obj.questionImage!=null">
                        <img [src]="obj.questionImage" style="width: 200px ;height: 200px">
                    </div>
                    <div class="subject-test-ques-ans"
                        [ngClass]="obj.correctOption==obj.option1?'alert alert-success':''">
                        <p>A. {{obj.option1}}</p>
                    </div>
                    <div class="subject-test-ques-ans"
                        [ngClass]="obj.correctOption==obj.option2?'alert alert-success':''">
                        <p>B. {{obj.option2}}</p>
                    </div>
                    <div class="subject-test-ques-ans"
                        [ngClass]="obj.correctOption==obj.option3?'alert alert-success':''">
                        <p>C. {{obj.option3}}</p>
                    </div>
                    <div class="subject-test-ques-ans"
                        [ngClass]="obj.correctOption==obj.option4?'alert alert-success':''">
                        <p>D. {{obj.option4}}</p>
                    </div>

                </div>
            </div>

        </div>
        <!-- subject test  end-->
        <div class="subject-exam" style="display: none;">
            <h3 _ngcontent-ghv-c53="" class="admin-title font-17 font-600 secondary position-relative">Test</h3>
            <div class="row mt-4">
                <div class="col-md-4 mb-4 " *ngFor="let obj of normlaExam;let i =index">
                    <div class="test_card">
                        <div class="d-flex justify-content-between align-items-center mb_12">
                            <div class="d-flex align-items-center gap_12">
                                <img [src]="obj.examImage" class="test_icon">
                                <div class="test_details">
                                    <h3 class="mb-1">{{obj.examName}}</h3>
                                </div>
                            </div>


                            <div class="d-flex align-items-center gap_12">
                                <div class="checkox_class">
                                    <label class="switch">
                                        <input type="checkbox"  (click)="beforeToggle($event, obj)" [checked]="obj.isActive">
                                        <span class="slider round"></span>
                                    </label>
                                </div>
                            </div>

                            <app-drop-down-delete-add-update [editModalId]="'#exam_add_modal'"   [Edit]="obj.isStart?'View':'Edit'" [View]="obj.isStart?'View Result':'View'" [deleteButton]="!obj.isStart"
                                (click)="removeScheduleFormField()" [examType]="'NORMALEXAM'"
                                [deleteModalId]="'#delete-exam-modal'" [path]="'/admin/result/'"
                                [params]="{subjectExamId:obj.examId,type:'subjectExam'}" [id]="obj.examId" [index]="i"
                                (onClick)="onClickForExam($event)"></app-drop-down-delete-add-update>
                        </div>

                        <div class="d-flex justify-content-around">
                            <div class="test_details2">
                                <h3>Questions</h3>
                                <h4>{{obj.totalQuestionForTest}}</h4>
                            </div>
                            <div class="test_details2">
                                <h3>Passing marks</h3>
                                <h4>{{obj.passingMarks}}%</h4>
                            </div>
                            <div class="test_details2">
                                <h3>Duration</h3>
                                <h4>{{obj.examTimer}}Min</h4>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <h3 _ngcontent-ghv-c53="" class="admin-title font-17 font-600 secondary position-relative">Schedule Test
            </h3>
            <div class="row mt-4">
                <div class="col-md-4 mb-4" *ngFor="let obj  of scheduleExam ;let i = index">
                    <div class="test_card">
                        <div class="d-flex justify-content-between align-items-center mb_12">
                            <div class="d-flex align-items-center gap_12">
                                <img src="{{obj.examImage}}" class="test_icon">
                                <div class="test_details">
                                    <h3 class="mb-1">{{obj.examName}}</h3>
                                    <!-- <h4 class="mb-0">Best Score - 36%</h4> -->
                                </div>
                            </div>
                            
                            <div class="d-flex align-items-center gap_12">
                                <div class="checkox_class">
                                    <label class="switch">
                                        <input type="checkbox"  (click)="beforeToggle($event, obj)" [checked]="obj.isActive">
                                        <span class="slider round"></span>
                                    </label>
                                </div>
                            </div>
                            <app-drop-down-delete-add-update [examType]="'SCHEDULEEXAM'"  [Edit]="obj.isStart?'View':'Edit'" [View]="obj.isStart?'View Result':'View'" [deleteButton]="!obj.isStart"
                                [editModalId]="'#exam_add_modal'" [deleteModalId]="'#delete-exam-modal'"
                                [path]="'/admin/result/'" [params]="{subjectExamId:obj.examId,type:'subjectExam'}"
                                [id]="obj.examId" [index]="i"
                                (onClick)="onClickForExam($event)"></app-drop-down-delete-add-update>
                        </div>

                        <div class="d-flex justify-content-around">
                            <div class="test_details2">
                                <h3>Questions</h3>
                                <h4>{{obj.totalQuestionForTest}}</h4>
                            </div>
                            <div class="test_details2">
                                <h3>Passing marks</h3>
                                <h4>{{obj.passingMarks}}%</h4>
                            </div>
                            <div class="test_details2">
                                <h3>Duration</h3>
                                <h4>{{obj.examTimer}}Min</h4>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- subect exam -->
    </div>
    <!-- DASHBOARD END -->

    <!-- RIGHT SIDE START-->
    
    <!-- RIGHT SIDE END -->


</div>
<!--DASHBOARD END -->


<!-- delete modals -->

<!-- Modal Delete Modal Start -->
<div class="modal fade" id="chapter-delete" tabindex="-1" aria-labelledby="delete-modal3" aria-hidden="true">
    <app-delete-modal [title]="'Chapter'" (onClick)="deleteChapter()"></app-delete-modal>
</div>

<div class="modal fade" id="delete-exam-modal" tabindex="-1" aria-labelledby="delete-modal3" aria-hidden="true">
    <app-delete-modal [title]="'Exam'" (onClick)="deleteExam()"></app-delete-modal>
</div>

<!-- delete question of subject exam -->
<div class="modal fade" id="delete-modal01" tabindex="-1" aria-labelledby="delete-modal01" aria-hidden="true">
    <app-delete-modal [title]="'Question'" (onClick)="deleteQuestion()"></app-delete-modal>
</div>

<!-- delete modals end  -->

<!-- Modal Admin Subject Add Modal Start -->
<div class="modal fade" id="subject-subadd-modal" tabindex="-1" aria-labelledby="subject-subadd-modal"
    aria-hidden="true">
    <div class="modal-dialog position-relative leave_modal">
        <div class="modal-content">
            <div class="modal-body">
                <div class="modal-header apply_title p-0">
                    <h1 class="modal-title fs-5 font-21 font-600 secondary modal_line position-relative"
                        id="addChapter">Add Chapter</h1>
                    <!-- <button type="button" class="close_btn" data-bs-dismiss="modal" aria-label="Close"  id="chapter-save-modal" (click)="reload()">
                        <i class="fi fi-rr-cross close_icon"></i>
                    </button> -->
                </div>

                <form [formGroup]="chapterForm">
                    <div class="row">
                        <!-- <div class="col-md-12 mb_18">
                            <h6 class="mb-4 font-15 font-500 secondary" >Selected Image :- {{imageName}}</h6>
                                <div class="all-course-images d-flex flex-wrap">
                                    <div class="add-course-img" *ngFor="let image of techImages">
                                        <img [src]="techUrl+image.imageName"  alt="" (click)="courseRequest.technologyStack= image.id" (click)="imageName = image.technologyName">
                                    </div>
                                </div>
                        </div> -->
                        <!-- <div class="col-md-12 mb_18">
                            <div
                                class="subject_edit_media_attech d-flex align-items-center justify-content-center  position-relative">
                                <input type="file" name="fileupload" value="fileupload" class="d-none"
                                    id="fileupload">
                                <label for="fileupload" class="font-17 font-500 d-flex">
                                    <i class="fi fi-rr-plus-small warning font-24 line-height-0"></i>
                                    Add Media</label>
                            </div>
                        </div> -->
                        <div class="col-md-12 mb_18">
                            <label for="" class="mb_6 font-15 font-500 secondary">Chapter Name.</label>
                            <div class="input_icon position-relative">
                                <input type="text" id="" name="chapterName" formControlName="chapterName"
                                    class="form-control input_text" placeholder="Chapter Title"
                                    [(ngModel)]="chapterUpdate.chapterName">
                            </div>
                        </div>
                        <div
                            *ngIf="chapterForm.get('chapterName')?.hasError('required') && chapterForm.get('chapterName')?.touched ">
                            <h6 class="text-danger "> {{appUtil.requiredField}}</h6>
                        </div>
                    </div><!-- row -->
                </form>
                <div class="apply_modal_buttons d-flex justify-content-between align-items-center">
                    <button type="button" class="cancel_modal_btn font-15 font-500" data-bs-dismiss="modal"
                        aria-label="Close" (click)="cancel()" id="chapter-save-modal">Cancel</button>
                    <a>
                        <button type="button" class="apply_modal_btn font-15 font-500"
                            (click)="addChapter()"  [disabled]="isSubmited">
                            <div *ngIf="!isSubmited;else spinner">
                                Save
                            </div>
                           </button>
                    </a>
                    <ng-template #spinner>
                        <div class="spinner-border text-light" role="status">
                          <span class="sr-only"></span>
                        </div>
                      </ng-template>
                </div>

            </div>
        </div>
    </div>
</div>
<!-- Modal Admin Subject Add Modal End -->

<!-- Modal Admin Chapter Edit  Modal Start -->
<div class="modal fade" id="chapter-edit-modal" tabindex="-1" aria-labelledby="chapter-edit-modal" aria-hidden="true">
    <div class="modal-dialog position-relative leave_modal">
        <div class="modal-content">
            <div class="modal-body">
                <div class="modal-header apply_title p-0">
                    <h1 class="modal-title fs-5 font-21 font-600 secondary modal_line position-relative"
                        id="editChapter">Edit Chapter</h1>
                    <!-- <button type="button" class="close_btn" data-bs-dismiss="modal" id="chapter-update-modal" aria-label="Close" (click)="reload()">
                            <i class="fi fi-rr-cross close_icon"></i>
                        </button> -->
                </div>

                <form action="">
                    <div class="row">
                        <!-- <div class="col-md-12 mb_18">
                                <div
                                    class="subject_edit_media_attech d-flex align-items-center justify-content-center  position-relative">
                                    <input type="file" name="fileupload" value="fileupload" class="d-none"
                                        id="fileupload">
                                    <label for="fileupload" class="font-17 font-500 d-flex">
                                        <i class="fi fi-rr-plus-small warning font-24 line-height-0"></i>
                                        Add Media</label>
                                </div>
                            </div> -->
                        <div class="col-md-12 mb_18">
                            <label for="" class="mb_6 font-15 font-500 secondary">Chapter Name</label>
                            <div class="input_icon position-relative">
                                <input type="text" id="" name="chapterName" class="form-control input_text"
                                    placeholder="Chapter Title" [(ngModel)]="chapterUpdate.chapterName">
                            </div>
                        </div>

                    </div><!-- row -->
                </form>
                <div class="apply_modal_buttons d-flex justify-content-between align-items-center">
                    <button type="button" class="cancel_modal_btn font-15 font-500" data-bs-dismiss="modal"
                        aria-label="Close" (click)="cancel()" id="chapter-update-modal">Cancel</button>
                    <a>
                        <button type="button" class="apply_modal_btn font-15 font-500"
                            (click)="updateChapter()"  [disabled]="isSubmitedUpdateChapter">
                            <div *ngIf="!isSubmitedUpdateChapter;else spinner">
                                Save
                            </div>
                
                            </button>
                    </a>
                    <ng-template #spinnerUpdateChapter>
                        <div class="spinner-border text-light" role="status">
                          <span class="sr-only"></span>
                        </div>
                      </ng-template>
                </div>

            </div>
        </div>
    </div>
</div>
<!-- Modal Admin Chapter Edit Modal End -->

<!-- Modal Admin Subject Test Add Question Modal Start -->

<!-- Modal  exam add   -->
<div class="modal fade" id="exam_add_modal" tabindex="-1" aria-labelledby="subject-testques-modal5" aria-hidden="true">
    <div class="modal-dialog position-relative leave_modal subject_modal">
        <div class="modal-content">
            <div class="modal-body">
                <div class="modal-header apply_title">
                    <h1 class="modal-title fs-5 font-21 font-600 secondary modal_line position-relative" id="addExam">
                        Add Exam</h1>
                    <button type="button" class="close_btn" data-bs-dismiss="modal" aria-label="Close"
                        id="close-exam-add-form" (click)="clearExamForm()">
                        <i class="fi fi-rr-cross close_icon"></i>
                    </button>
                </div>

                <form [formGroup]="examForm">
                    <div class="form-group">
                        <div class="col-md-12  mb_18">
                            <h4 class="sub-heading font-17 font-500 text_gray"> Exam Name </h4>
                            <div class="input_icon position-relative"><input [(ngModel)]="exam.examName" type="text"
                                    name="examName" placeholder="Enter exam name" formControlName="examName"
                                    class="form-control input_text">
                            </div>
                            <div *ngIf="examForm.get('examName')?.hasError('required') && examForm.get('examName')?.touched"
                                class="text-danger">
                                {{appUtil.requiredField}}</div>
                        </div>



                        <div class="col-md-12  mb_18">
                            <h4 class="sub-heading font-17 font-500 text_gray"> Total Questions For Test (Under
                                {{questions.length+totalChapterExamQuestion}}) </h4>
                            <div class="input_icon position-relative"><input [min]="1"
                                    [max]="questions.length+totalChapterExamQuestion"
                                    formControlName="totalQuestionForTest" [(ngModel)]="exam.totalQuestionForTest"
                                    type="number" name="totalQuestionForTest" placeholder="Enter total question "
                                    class="form-control input_text   "></div>

                            <div *ngIf="examForm.get('totalQuestionForTest')?.hasError('required') && examForm.get('totalQuestionForTest')?.touched"
                                class="text-danger">
                                {{appUtil.requiredField}}</div>
                            <div *ngIf="examForm.get('totalQuestionForTest')?.hasError('min') && examForm.get('totalQuestionForTest')?.touched"
                                class="text-danger">
                                minimum 1 question is required.</div>
                            <div *ngIf="exam.totalQuestionForTest>(questions.length+totalChapterExamQuestion) && examForm.get('totalQuestionForTest')?.touched"
                                class="text-danger">
                                maximum {{questions.length+totalChapterExamQuestion}} is required.</div>
                        </div>


                        <div class="col-md-12  mb_18">
                            <h4 class="sub-heading font-17 font-500 text_gray">Passing Marks </h4>
                            <div class="input_icon position-relative"><input formControlName="passingMarks"
                                    [(ngModel)]="exam.passingMarks" _ngcontent-xnu-c70="" type="number" id=""
                                    name="passingMarks" placeholder="Enter passin marks"
                                    class="form-control input_text   "></div>
                            <div *ngIf="isFieldInvalidForExamForm('passingMarks')" class="text-danger">
                                {{appUtil.requiredField}}</div>
                        </div>

                        <div class="col-md-12  mb_18">
                            <h4 class="sub-heading font-17 font-500 text_gray">Duration in (Minutes)</h4>
                            <div class="input_icon position-relative"><input formControlName="examTimer"
                                    [(ngModel)]="exam.examTimer" _ngcontent-xnu-c70="" type="number" id=""
                                    name="examTimer" placeholder="Enter duration" class="form-control input_text   ">
                            </div>
                            <div *ngIf="isFieldInvalidForExamForm('examTimer')" class="text-danger">
                                {{appUtil.requiredField}}</div>
                        </div>

                        <div class="row" id="scheduleOption" *ngIf="isScheduleFieldOpen">
                            <div class="col-md-4  mb_18">
                                <h4 class="sub-heading font-17 font-500 text_gray">Schedule Test (Optional) </h4>
                            </div>
                            <div class="col-md-2  mb_18">
                                <input type="checkbox" id="checkbox" (input)="openScheduleField()">
                            </div>

                        </div>


                        <div class="row" id="scheduleTest" *ngIf="isScheduleForm">
                            <div class="col-md-6  mb_18">
                                <label for="" class="mb_6 font-15 font-500 secondary">Exam Date</label>
                                <div class="input_icon position-relative d-flex align-items-center"><input type="date"
                                        [min]="" [(ngModel)]="exam.scheduleTestDate" id="birthday"
                                        name="scheduleTestTime" placeholder="From" formControlName="scheduleTestDate"
                                        class="form-control input_text">
                                </div>
                                <div *ngIf="isFieldInvalidForExamForm('scheduleTestDate')" class="text-danger">
                                    {{appUtil.requiredField}}</div>
                            </div>

                            <div class="col-md-6  mb_18">
                                <label for="" class="mb_6 font-15 font-500 secondary">Exam Start Time</label>
                                <div class="input_icon position-relative">
                                    <input type="time" id="" name="examStartTime" class="form-control input_text"
                                        formControlName="examStartTime" placeholder="Enter Exam Start Time"
                                        [(ngModel)]="exam.examStartTime">
                                    <div *ngIf="isFieldInvalidForExamForm('examStartTime')" class="text-danger">
                                        {{appUtil.requiredField}}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>

                <!-- <div class="col-md-12  mb_18">
                    
                </div> -->

                <div class="apply_modal_buttons d-flex justify-content-center align-items-center">
                    <button type="button" class="cancel_modal_btn font-15 font-500" data-bs-dismiss="modal"
                        id="exam_modal_close" aria-label="Close" (click)="cancel()">Cancel</button>
                    <a>
                        <button type="button" [hidden]="exam.isStart==true?true:false" id="buttonName"
                            class="apply_modal_btn font-15 font-500" (click)="addUpdateExams()" [disabled]="isSubmitedExam">
                            <div *ngIf="!isSubmitedExam;else spinnerExam">
                                Create
                            </div>
                            </button>
                    </a>
                    <ng-template #spinnerExam>
                        <div class="spinner-border text-light" role="status">
                          <span class="sr-only"></span>
                        </div>
                      </ng-template>
                </div>

            </div>
        </div>
    </div>
</div>




<!-- add subject question -->
<div class="modal fade" id="subject-testques-modal" tabindex="-1" aria-labelledby="subject-testques-modal"
    aria-hidden="true">
    <div class="modal-dialog position-relative leave_modal subject_modal">
        <div class="modal-content">
            <div class="modal-body">
                <div class="modal-header apply_title">
                    <h1 class="modal-title fs-5 font-21 font-600 secondary modal_line position-relative"
                        id="addQuestion" (click)="clearFormSubmission()">Add Question</h1>
                    <button type="button" class="close_btn" data-bs-dismiss="modal" aria-label="Close"
                        id="quize-save-modal" (click)="clearFormSubmission()">
                        <i class="fi fi-rr-cross close_icon"></i>
                    </button>
                </div>

                <form [formGroup]="questionForm">
                    <div class="row">
                        <div class="form-group">
                            <div class="col-md-12 mb_18">
                                <h4 class="sub-heading font-17 font-500 text_gray">Quiz Question</h4>
                                <ckeditor [editor]="Editor" name="questionContent"
                                    [(ngModel)]="question.questionContent" formControlName="questionContent">
                                </ckeditor>
                                <div *ngIf=" isFieldInvalidForSubmissionForm('questionContent')" class="text-danger">
                                    questionContent is required.</div>
                            </div>
                        </div>


                        <div class="col-md-12 mb_18">
                            <h4 class="sub-heading font-17 font-500 text_gray">Image </h4>
                            <div class="input_icon position-relative">
                                <input type="file" (change)="handleImageInput($event)" value="file" name="file"
                                    formControlName="file">
                            </div>

                        </div>

                        <div class="form-group">
                            <div class="col-md-12 mb_18">
                                <h4 class="sub-heading font-17 font-500 text_gray">Option-1</h4>
                                <div class="input_icon position-relative">
                                    <input type="text" id="" name="option1" class="form-control input_text"
                                        placeholder="" [(ngModel)]="question.option1" formControlName="option1">
                                    <div *ngIf=" isFieldInvalidForSubmissionForm('option1')" class="text-danger">
                                        option1 is required.</div>
                                </div>
                            </div>
                        </div>


                        <div class="form-group">
                            <div class="col-md-12 mb_18">
                                <h4 class="sub-heading font-17 font-500 text_gray">Option-2</h4>
                                <div class="input_icon position-relative">
                                    <input type="text" id="" name="option2" class="form-control input_text"
                                        placeholder="" [(ngModel)]="question.option2" formControlName="option2">
                                    <div *ngIf=" isFieldInvalidForSubmissionForm('option2')" class="text-danger">
                                        option2 is required.</div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-md-12 mb_18">
                                <h4 class="sub-heading font-17 font-500 text_gray">Option-3</h4>
                                <div class="input_icon position-relative">
                                    <input type="text" id="" name="option3" class="form-control input_text"
                                        placeholder="" [(ngModel)]="question.option3" formControlName="option3">
                                    <div *ngIf=" isFieldInvalidForSubmissionForm('option3')" class="text-danger">
                                        option3 is required.</div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-md-12  mb_18">
                                <h4 class="sub-heading font-17 font-500 text_gray">Option-4</h4>
                                <div class="input_icon position-relative">
                                    <input type="text" id="" name="option4" class="form-control input_text"
                                        placeholder="" [(ngModel)]="question.option4" formControlName="option4">
                                    <div *ngIf=" isFieldInvalidForSubmissionForm('option4')" class="text-danger">
                                        option4 is required.</div>
                                </div>
                            </div>
                        </div>


                        <div class="form-group">
                            <div class="col-md-12  mb_18">
                                <h4 class="sub-heading font-17 font-500 text_gray">Correct Option </h4>
                                <select class="form-select" aria-label="Default select example" id="correctOption"
                                    name="correctOption" [(ngModel)]="question.correctOption"
                                    formControlName="correctOption">
                                    <option value="">Select Correct Option</option>
                                    <option [value]="question.option1">{{question.option1}}</option>
                                    <option [value]="question.option2">{{question.option2}}</option>
                                    <option [value]="question.option3">{{question.option3}}</option>
                                    <option [value]="question.option4">{{question.option4}}</option>
                                </select>
                                <div *ngIf=" isFieldInvalidForSubmissionForm('correctOption')" class="text-danger">
                                    correctOption is required.</div>
                            </div>
                        </div>



                    </div><!-- row -->
                </form>
                <div class="apply_modal_buttons d-flex justify-content-between align-items-center">
                    <button type="button" class="cancel_modal_btn font-15 font-500" data-bs-dismiss="modal"
                        aria-label="Close" (click)="cancel()">Cancel</button>
                    <a>
                        <button type="button" class="apply_modal_btn font-15 font-500"
                            (click)="addUpdateQuestion()"  [disabled]="isSubmitedQuestion">
                            <div *ngIf="!isSubmitedQuestion;else spinner">
                                Save
                                Question
                            </div>
                           </button>
                    </a>
                    <ng-template #spinnerQuestion>
                        <div class="spinner-border text-light" role="status">
                          <span class="sr-only"></span>
                        </div>
                      </ng-template>
                    
                </div>

            </div>
        </div>
    </div>
</div>


<!-- edite question for exam -->
<!-- <div class="modal fade" id="subject-edit_testques-modal" tabindex="-1" aria-labelledby="subject-edit_testques-modal"
    aria-hidden="true">
    <div class="modal-dialog position-relative leave_modal subject_modal">
        <div class="modal-content">
            <div class="modal-body">
                <div class="modal-header apply_title">
                    <h1 class="modal-title fs-5 font-21 font-600 secondary modal_line position-relative"
                        id="exampleModalLabel1">Edit Question</h1>
                    <button type="button" class="close_btn" data-bs-dismiss="modal" aria-label="Close"
                        id="update-quize-modal">
                        <i class="fi fi-rr-cross close_icon"></i>
                    </button>
                </div>

                <form action="">
                    <div class="row">
                        <div class="col-md-12 mb_18">
                            <h4 class="sub-heading font-17 font-500 text_gray">Question Content</h4>
                            <ckeditor [editor]="Editor" name="questionContent" [(ngModel)]="question.questionContent">
                            </ckeditor>
                        </div>
                        <div class="col-md-12 mb_18">
                            <h4 class="sub-heading font-17 font-500 text_gray">Image </h4>
                            <div class="input_icon position-relative">
                                <input type="file" (change)="handleImageInput($event)" [value]="question.questionImage">
                            </div>
                        </div>
                        <div class="col-md-12 mb_18">
                            <h4 class="sub-heading font-17 font-500 text_gray">Option-1</h4>
                            <div class="input_icon position-relative">
                                <input type="text" id="" name="option1" class="form-control input_text" placeholder=""
                                    [(ngModel)]="question.option1">
                            </div>
                        </div>
                        <div class="col-md-12 mb_18">
                            <h4 class="sub-heading font-17 font-500 text_gray">Option-2</h4>
                            <div class="input_icon position-relative">
                                <input type="text" id="" name="option2" class="form-control input_text" placeholder=""
                                    [(ngModel)]="question.option2">
                            </div>
                        </div>
                        <div class="col-md-12 mb_18">
                            <h4 class="sub-heading font-17 font-500 text_gray">Option-3</h4>
                            <div class="input_icon position-relative">
                                <input type="text" id="" name="option3" class="form-control input_text" placeholder=""
                                    [(ngModel)]="question.option3">
                            </div>
                        </div>
                        <div class="col-md-12 mb_18">
                            <h4 class="sub-heading font-17 font-500 text_gray">Option-4</h4>
                            <div class="input_icon position-relative">
                                <input type="text" id="" name="option4" class="form-control input_text" placeholder=""
                                    [(ngModel)]="question.option4">
                            </div>
                        </div>
                        <div class="col-md-12 mb_18">
                            <h4 class="sub-heading font-17 font-500 text_gray">Correct Option </h4>
                            <div class="input_icon position-relative ">
                           
                                <select class="form-select" aria-label="Default select example" id="correctOption"
                                    name="correctOption" [(ngModel)]="question.correctOption">
                                    <option value="">Select Correct Option</option>
                                    <option [value]="question.option1">{{question.option1}}</option>
                                    <option [value]="question.option2">{{question.option2}}</option>
                                    <option [value]="question.option3">{{question.option3}}</option>
                                    <option [value]="question.option4">{{question.option4}}</option>
                                </select>
                            </div>
                        </div>

                    </div>
                </form>
                <div class="apply_modal_buttons d-flex justify-content-between align-items-center">
                    <button type="button" class="cancel_modal_btn font-15 font-500" data-bs-dismiss="modal"
                        aria-label="Close" (click)="cancel()">Cancel</button>
                    <a>
                        <button type="button" class="apply_modal_btn font-15 font-500" (click)="updateQuestion()">Save
                            Question</button>
                    </a>
                </div>

            </div>
        </div>
    </div>
</div> -->